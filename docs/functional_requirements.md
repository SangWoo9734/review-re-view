## 📋 문서 정보

- **서비스명**: Review-Review
- **버전**: v1.0.0 (MVP)
- **작성일**: 2024년
- **문서 유형**: 기능 요구사항 명세서 (FRS)

---

## 🎯 전체 시스템 개요

### 시스템 목적

GitHub PR 코멘트를 자동 분석하여 개발자의 코드 품질 개선점과 구체적인 액션 아이템을 제시하는 웹 애플리케이션

### 시스템 특징

- **완전 클라이언트 사이드 아키텍처**
- **GitHub OAuth 기반 인증**
- **실시간 데이터 분석**
- **휘발성 결과** (서버 저장 없음)

---

## 🔐 FR-AUTH: 인증 기능

### FR-AUTH-001: GitHub OAuth 로그인

**우선순위**: P1 (필수)
**설명**: 사용자가 GitHub 계정으로 로그인할 수 있어야 함

**상세 요구사항**:

- GitHub OAuth 2.0 프로토콜 사용
- `repo` 스코프 권한 요청 (private repository 접근)
- Authorization Code를 Access Token으로 교환
- Access Token을 HttpOnly 쿠키에 안전하게 저장

**입력**:

- 사용자의 GitHub 로그인 버튼 클릭

**출력**:

- 성공: 메인 대시보드로 리다이렉트
- 실패: 로그인 페이지에 에러 메시지 표시

**예외 처리**:

- OAuth 권한 거부 시 에러 메시지 표시
- 네트워크 오류 시 재시도 옵션 제공
- 토큰 만료 시 자동 재로그인 유도

### FR-AUTH-002: 로그인 상태 관리

**우선순위**: P1 (필수)
**설명**: 사용자의 로그인 상태를 지속적으로 관리해야 함

**상세 요구사항**:

- 쿠키 기반 토큰 저장 및 검증
- 페이지 새로고침 시에도 로그인 상태 유지
- 토큰 유효성 검증 (GitHub API 호출)
- 자동 로그아웃 (토큰 만료 시)

### FR-AUTH-003: 로그아웃

**우선순위**: P1 (필수)
**설명**: 사용자가 안전하게 로그아웃할 수 있어야 함

**상세 요구사항**:

- 쿠키에서 Access Token 제거
- 메모리에 저장된 사용자 정보 초기화
- 로그인 페이지로 리다이렉트

---

## 📊 FR-DASH: 대시보드 기능

### FR-DASH-001: 사용자 정보 표시

**우선순위**: P2 (중요)
**설명**: 로그인한 사용자의 기본 정보를 표시해야 함

**상세 요구사항**:

- GitHub 프로필 이미지 표시
- GitHub 사용자명 표시
- 로그아웃 버튼 제공

### FR-DASH-002: 레포지토리 목록 조회

**우선순위**: P1 (필수)
**설명**: 사용자가 접근 가능한 모든 레포지토리를 조회하고 표시해야 함

**상세 요구사항**:

- Public 및 Private 레포지토리 모두 표시
- 레포지토리명, 설명, 언어 정보 표시
- 최근 업데이트 시간 표시
- 레포지토리별 PR 개수 뱃지 표시

**성능 요구사항**:

- 레포지토리 목록 로딩 시간 3초 이내
- 페이지네이션으로 성능 최적화

### FR-DASH-003: 레포지토리 검색

**우선순위**: P2 (중요)
**설명**: 레포지토리 목록에서 특정 레포지토리를 검색할 수 있어야 함

**상세 요구사항**:

- 실시간 검색 (타이핑하는 동안 필터링)
- 레포지토리명 기반 검색
- 검색 결과가 없을 때 안내 메시지 표시
- 검색어 초기화 기능

---

## 📝 FR-PR: PR 관리 기능

### FR-PR-001: PR 목록 조회

**우선순위**: P1 (필수)
**설명**: 선택된 레포지토리의 PR 목록을 조회하고 표시해야 함

**상세 요구사항**:

- Open, Closed, Merged 상태별 PR 표시
- PR 제목, 번호, 작성자 정보 표시
- 생성일 및 마지막 업데이트 시간 표시
- 코멘트 개수 뱃지 표시 (PR 코멘트 + 리뷰 코멘트)

**표시 정보**:

```
PR #123: feat: 사용자 인증 기능 추가
👤 username • 📅 2024-01-15 • 💬 8개 코멘트 • ✅ Merged

```

### FR-PR-002: PR 다중 선택

**우선순위**: P1 (필수)
**설명**: 분석할 PR을 여러 개 선택할 수 있어야 함

**상세 요구사항**:

- 체크박스를 통한 다중 선택 지원
- 최소 1개 ~ 최대 5개 PR 선택 제한
- 선택된 PR 개수 실시간 표시
- 선택 해제 기능
- 전체 선택/해제 기능 (제한 범위 내에서)

**검증 규칙**:

- 5개 초과 선택 시 경고 메시지 표시
- 0개 선택 시 분석 버튼 비활성화

### FR-PR-003: PR 정렬 및 필터링

**우선순위**: P3 (선택)
**설명**: PR 목록을 다양한 기준으로 정렬하고 필터링할 수 있어야 함

**상세 요구사항**:

- 정렬 기준: 생성일, 업데이트일, 코멘트 수
- 정렬 순서: 오름차순, 내림차순
- 상태별 필터링: Open, Closed, Merged
- 작성자별 필터링

---

## 🔍 FR-ANAL: 분석 기능

### FR-ANAL-001: 코멘트 데이터 수집

**우선순위**: P1 (필수)
**설명**: 선택된 PR들의 모든 코멘트를 수집해야 함

**상세 요구사항**:

- PR 코멘트 (Issue Comments) 수집
- 코드 리뷰 코멘트 (Review Comments) 수집
- 코멘트 작성자, 내용, 작성일 수집
- 병렬 처리로 수집 성능 최적화

**수집 대상**:

- PR 본문 코멘트
- 인라인 코드 리뷰 코멘트
- 일반 리뷰 코멘트
- 리뷰 서머리 코멘트

**제외 대상**:

- 봇 계정 코멘트 (선택사항)
- 이모지만 있는 코멘트
- 빈 코멘트

### FR-ANAL-002: 텍스트 전처리

**우선순위**: P1 (필수)
**설명**: 수집된 코멘트 텍스트를 분석 가능한 형태로 전처리해야 함

**상세 요구사항**:

- 마크다운 문법 제거
- 코드 블록 내용 추출 (선택적)
- 불용어 제거 (한국어/영어)
- 특수문자 정리
- 토큰화 (단어 단위 분할)

**전처리 규칙**:

```jsx
// 제거할 패턴들
- 마크다운: **bold**, *italic*, `code`
- 링크: [text](url)
- 멘션: @username
- 이슈 참조: #123
- 불용어: 이, 그, 저, the, a, an 등

```

### FR-ANAL-003: 키워드 추출 및 분석

**우선순위**: P1 (필수)
**설명**: 전처리된 텍스트에서 의미있는 키워드를 추출하고 분석해야 함

**상세 요구사항**:

- TF-IDF 가중치 계산
- 단어 빈도 분석
- 기술 키워드 식별 (React, TypeScript, API 등)
- 카테고리별 분류 (성능, 구조, 품질 등)
- 우선순위 패턴 인식 (P1-P5)

**키워드 카테고리**:

- **기술 스택**: React, TypeScript, Node.js, API
- **코드 품질**: 리팩토링, 네이밍, 구조, 타입
- **성능**: 메모리, 최적화, 캐싱, 번들
- **보안**: 인증, 권한, 검증, 암호화
- **테스트**: 유닛테스트, 통합테스트, E2E

### FR-ANAL-004: 우선순위 분석

**우선순위**: P1 (필수)
**설명**: 코멘트에서 우선순위 정보를 추출하고 분석해야 함

**상세 요구사항**:

- P1-P5 패턴 인식
- 긴급도 키워드 인식 (Critical, Important, Minor 등)
- 우선순위별 통계 계산
- 심각도별 색상 매핑
- **우선순위 패턴이 없는 코멘트 처리**

**인식 패턴**:

```jsx
const priorityPatterns = {
  P1: /P1|critical|긴급|즉시|필수/gi,
  P2: /P2|important|중요|우선/gi,
  P3: /P3|moderate|보통|일반/gi,
  P4: /P4|minor|낮음|선택/gi,
  P5: /P5|suggestion|제안|아이디어/gi,
};
```

**우선순위 패턴 미사용 케이스 처리**:

- **키워드 기반 분류**: 패턴이 없는 경우 키워드 분석으로 우선순위 추정
- **기본 우선순위 할당**: 분류 불가능한 코멘트는 P3 (일반)으로 분류
- **컨텍스트 분석**: 코멘트 내용의 긴급성/중요성 키워드로 판별
- **통계적 분류**: 전체 코멘트 중 우선순위 분포 기반 자동 할당

**컨텍스트 기반 우선순위 추정**:

```jsx
const urgencyKeywords = {
  high: /버그|오류|문제|위험|보안|성능|크래시|실패/gi,
  medium: /개선|최적화|리팩토링|구조|설계/gi,
  low: /제안|아이디어|고려|검토|나중에/gi,
};

// 패턴이 없는 코멘트의 우선순위 추정 로직
function estimatePriority(comment) {
  if (urgencyKeywords.high.test(comment)) return "P1";
  if (urgencyKeywords.medium.test(comment)) return "P2";
  if (urgencyKeywords.low.test(comment)) return "P4";
  return "P3"; // 기본값
}
```

---

## 📊 FR-VIS: 시각화 기능

### FR-VIS-001: 워드클라우드 생성

**우선순위**: P1 (필수)

**설명**: 분석된 키워드를 워드클라우드로 시각화해야 함

**상세 요구사항**:

- D3.js 기반 SVG 렌더링
- 키워드 빈도에 따른 크기 조절
- 카테고리별 색상 구분
- 반응형 레이아웃 (모바일 대응)
- 인터랙티브 호버 효과

**시각적 요소**:

- 폰트 크기: 12px ~ 48px (빈도에 비례)
- 색상 팔레트: 카테고리별 8가지 색상
- 레이아웃: 나선형 또는 랜덤 배치
- 애니메이션: 페이드인 효과

### FR-VIS-002: 키워드 클릭 상호작용

**우선순위**: P2 (중요)
**설명**: 워드클라우드의 키워드를 클릭했을 때 상세 정보를 표시해야 함

**상세 요구사항**:

- 키워드 클릭 시 툴팁 표시
- 해당 키워드가 포함된 코멘트 목록 표시
- 키워드 언급 횟수 및 비율 표시
- 관련 키워드 추천

### FR-VIS-003: 키워드 순위 차트

**우선순위**: P1 (필수)
**설명**: 키워드별 순위를 차트로 표시해야 함

**상세 요구사항**:

- Top 10 키워드 바 차트
- 카테고리별 키워드 분류 표시
- 언급 횟수 및 비율 표시
- 반응형 차트 레이아웃

---

## 🎯 FR-ACTION: 액션 아이템 기능

### FR-ACTION-001: 액션 아이템 생성

**우선순위**: P1 (필수)
**설명**: 분석 결과를 바탕으로 실행 가능한 액션 아이템을 생성해야 함

**상세 요구사항**:

- 우선순위별 액션 아이템 분류
- 즉시 실행 가능한 항목 (P1/P2) 식별
- 중장기 개선 과제 (P3/P4/P5) 분류
- 구체적이고 실행 가능한 문장으로 생성

**액션 아이템 템플릿**:

```jsx
// P1 액션 아이템 예시
"range 유틸 함수를 사용하여 반복 코드를 개선하세요";
"API 에러 처리를 추가하여 안정성을 높이세요";
"Promise.all을 사용하여 병렬 요청을 최적화하세요";

// P2 액션 아이템 예시
"불필요한 useMemo 사용을 제거하여 성능을 개선하세요";
"타입 제한을 추가하여 타입 안전성을 높이세요";
"함수명을 더 명확하게 개선하세요";
```

### FR-ACTION-002: 관련 리소스 링크

**우선순위**: P3 (선택)
**설명**: 액션 아이템과 관련된 학습 리소스를 제공해야 함

**상세 요구사항**:

- 공식 문서 링크
- 베스트 프랙티스 가이드 링크
- 예제 코드 링크
- 블로그 포스트 링크

---

## 🎨 FR-UI: 사용자 인터페이스

### FR-UI-001: 반응형 디자인

**우선순위**: P1 (필수)
**설명**: 다양한 화면 크기에서 최적화된 UI를 제공해야 함

**상세 요구사항**:

- 모바일 (320px~768px) 대응
- 태블릿 (768px~1024px) 대응
- 데스크톱 (1024px 이상) 대응
- 터치 인터페이스 최적화

### FR-UI-002: 로딩 상태 표시

**우선순위**: P1 (필수)
**설명**: 데이터 로딩 중 적절한 로딩 상태를 표시해야 함

**상세 요구사항**:

- 스켈레톤 UI로 로딩 표시
- 프로그레스 바로 진행률 표시
- 로딩 중 사용자 피드백 제공
- 로딩 실패 시 재시도 옵션

### FR-UI-003: 에러 처리 UI

**우선순위**: P1 (필수)
**설명**: 에러 발생 시 사용자에게 명확한 피드백을 제공해야 함

**상세 요구사항**:

- 에러 타입별 적절한 메시지 표시
- 재시도 액션 버튼 제공
- 에러 상황 설명 및 해결 방법 안내
- 404, 403, 500 등 HTTP 에러 처리

---

## ⚡ NFR: 비기능 요구사항

### NFR-001: 성능 요구사항

- **페이지 로딩 시간**: 3초 이내
- **GitHub API 응답 시간**: 5초 이내
- **텍스트 분석 처리 시간**: 10초 이내 (PR 5개 기준)
- **워드클라우드 렌더링**: 2초 이내

### NFR-002: 가용성 요구사항

- **서비스 가동률**: 99% 이상
- **GitHub API 장애 대응**: 적절한 에러 메시지 표시
- **브라우저 호환성**: Chrome, Firefox, Safari, Edge 최신 2버전

### NFR-003: 보안 요구사항

- **HTTPS 통신 필수**
- **GitHub Access Token 보안 저장** (HttpOnly 쿠키)
- **XSS 공격 방지** (입력값 sanitization)
- **CORS 정책 준수**

### NFR-004: 사용성 요구사항

- **직관적인 UI/UX**: 별도 설명 없이 사용 가능
- **접근성**: WCAG 2.1 AA 레벨 준수
- **다국어 지원**: 한국어, 영어 (Phase 2에서 구현)

---

## 📱 브라우저 지원

### 지원 브라우저

- **Chrome**: 90+
- **Firefox**: 88+
- **Safari**: 14+
- **Edge**: 90+

### 필수 웹 API

- **Fetch API**: GitHub API 호출
- **LocalStorage**: 임시 데이터 저장
- **Cookie API**: 인증 토큰 관리
- **URL API**: 공유 링크 생성

---

_이 문서는 개발 진행에 따라 지속적으로 업데이트됩니다._
